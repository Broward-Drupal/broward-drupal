!function(a,b){"use strict";function c(a){function h(a){if(a.preventDefault(),""===f)return!1;var b=this,c=b.parentNode,d=document.querySelector(".is-playing"),e=c.querySelector("iframe");f=b.getAttribute("data-url"),null!==d&&(d.className=d.className.replace(/(\S+)playing/,"")),c.className+=" is-playing",g=document.createElement("iframe"),g.className="media__iframe media__element",g.setAttribute("src",f),g.setAttribute("allowfullscreen",!0),null!==e&&c.removeChild(e),c.appendChild(g)}function i(a){a.preventDefault();var b=this,c=b.parentNode,d=c.querySelector("iframe.media__element");c.className.match("is-playing")&&(c.className=c.className.replace(/(\S+)playing/,"")),null!==d&&c.removeChild(d)}var c=a,d=c.querySelector("iframe"),e=c.querySelector(".media__icon--play");if(null!==e){var g,f=e.getAttribute("data-url");null!==d&&d.parentNode.removeChild(d),b.on(c,"click",".media__icon--play",h),b.on(c,"click",".media__icon--close",i),c.className+=" media--player--on"}}a.behaviors.blazyMedia={attach:function(a){var d=a.querySelectorAll(".media--switch.media--player:not(.media--player--on)");b.once(b.forEach(d,c))}}}(Drupal,dBlazy);
